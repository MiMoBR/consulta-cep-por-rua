#https://www.cepaberto.com/api_key

import requests
import time

resultados = {}
def get_logradouro(lista_ceps):

    url = "https://www.cepaberto.com/api/v3/cep?cep="
    headers = {"Authorization": "Token 3ab7dfd9663f43301359429f66a82fc0"}

    for cep in lista_ceps:
        try:
            response = requests.get(url + cep, headers=headers)
            response.raise_for_status()
            resultados = response.json()

            if 'logradouro' in resultados:
                print(f"CEP: {cep} Logradouro: {resultados['logradouro']}")
            else:
                print(f"Erro: Logradouro n√£o encontrado para o CEP: {cep}")
            time.sleep(10)
        except requests.exceptions.RequestException as e:
            resultados = {"erro": str(e)}

    return resultados

lista_ceps = ['22763320','22763325','22763330','22763340','22763345','22763350','22763355','22763360','22763370','22763375','22763380','22763390','22763400','22763410','22763420','22763425','22763430','22763440','22763450','22763460','22763480','22763490','22763500','22763510','22763515','22763520','22763530','22763540','22763550','22763555','22763560','22763570','22763575','22763576','22763577','22763578','22763579','22763580','22763581','22763582','22763584','22763585','22763586','22763587','22763588','22763589','22763590','22763591','22763592','22763593','22763594','22763595','22763596','22763597','22763598','22763599','22763600','22763601','22763602','22763610','22763611','22763612','22763613','22763614','22763615','22763616','22763619','22763620','22763621','22763622','22763623','22763624','22763625','22763626','22763627','22763628','22763629','22763630','22763635','22763640','22763645','22763650','22763655','22763660','22763665','22763670','22763675','22763676','22763677','22763678','22763679','22763680','22763685','22763690','22763970']
logradouro = get_logradouro(lista_ceps)