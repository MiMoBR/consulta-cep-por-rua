#https://www.cepaberto.com/api_key

import requests

resultados = {}
def get_logradouro(lista_ceps):

    url = "https://www.cepaberto.com/api/v3/cep?cep="
    headers = {"Authorization": "Token 3ab7dfd9663f43301359429f66a82fc0"}

    for cep in lista_ceps:
        try:
            response = requests.get(url + cep, headers=headers)
            response.raise_for_status()
            resultados = response.json()

            if 'logradouro' in resultados:
                print(f"CEP: {cep} Logradouro: {resultados['logradouro']}")
            else:
                print(f"Erro: Logradouro n√£o encontrado para o CEP: {cep}")
        
        except requests.exceptions.RequestException as e:
            resultados = {"erro": str(e)}

    return resultados

lista_ceps = ['22271040','22271041','22271042','22271043','22271044','22271050','22271060','22271070','22271080','22271090','22271091','22271092','22271100','22271110','22280002','22280003','22280004','22280005','22280010','22280020','22280030','22280040','22280050','22280060','22280070','22280080','22280090','22280100','22280110','22280120','22280130','22280970','22281000','22281010','22281020','22281032','22281033','22281034','22281035','22281036','22281040','22281050','22281060','22281070','22281080','22281090','22281100','22281110','22281120','22281131','22281132','22281140','22281150','22281900','22290000','22290010','22290020','22290030','22290031','22290040','22290050','22290060','22290070','22290080','22290090','22290100','22290110','22290120','22290130','22290140','22290150','22290160','22290170','22290175','22290177','22290178','22290179','22290180','22290181','22290182','22290183','22290184','22290185','22290186','22290187','22290190','22290210','22290230','22290240','22290250','22290255','22290260','22290270','22290280','22290290','22290900','22290901','22290902']
logradouro = get_logradouro(lista_ceps)